<% content_for :title, "Relationships" %>

<!-- Header Bar -->
<div class="page-header-bar d-flex justify-content-between align-items-center">
    <h1 class="m-0 text-white me-4">Relationships</h1>

<!-- SEARCH BAR (STUDENT STYLE) -->
    <div class="input-group search-bar me-auto">
      <input
        type="text"
        class="form-control"
        placeholder="Search Relationships..."
        aria-label="Search"
      >
      <span class="input-group-text">
        <i class="bi bi-search"></i>
      </span>
    </div>

  <%= link_to "New Relationship",
      new_student_guardian_path,
      class: "btn btn-light ms-4" %>
</div>

<!-- Table Container -->
<div class="table-scroll-container mt-3">
  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Student</th>
        <th>Guardian</th>
        <th>Relationship</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @student_guardians.each do |relationship| %>
        <tr>
          <td><%= relationship.student.name %></td>
          <td><%= relationship.guardian.name %></td>
          <td><%= relationship.relationship %></td>
          <td>
            <%= link_to "Show",
                student_guardian_path(relationship),
                class: "btn btn-sm btn-show" %>

            <%= link_to "Edit",
                edit_student_guardian_path(relationship),
                class: "btn btn-sm btn-warning" %>

            <%= link_to "Delete",
                student_guardian_path(relationship),
                method: :delete,
                data: { confirm: "Are you sure you want to delete this relationship?" },
                class: "btn btn-sm btn-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
